<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Usu√°rios - Node.js + Express + MySQL</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ API REST - Gerenciamento de Usu√°rios</h1>
            <p>Node.js + Express + MySQL + Front-end Integrado</p>
            <div class="status-bar">
                <div id="apiStatus" class="status-indicator">
                    <span class="status-dot"></span>
                    <span class="status-text">Verificando API...</span>
                </div>
                <div id="dbStatus" class="status-indicator">
                    <span class="status-dot"></span>
                    <span class="status-text">Verificando Banco...</span>
                </div>
            </div>
        </header>

        <div class="content">
            <div class="form-section">
                <h2>üìù Gerenciar Usu√°rio</h2>
                
                <div id="message" class="message"></div>
                
                <form id="userForm">
                    <input type="hidden" id="userId">
                    <div class="form-group">
                        <label for="nome">Nome:</label>
                        <input type="text" id="nome" required placeholder="Digite o nome completo">
                        <span class="error-message" id="nomeError"></span>
                    </div>
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" required placeholder="Digite o email v√°lido">
                        <span class="error-message" id="emailError"></span>
                    </div>
                    <div class="btn-group">
                        <button type="submit" class="btn btn-primary" id="btnSubmit">
                            <span class="btn-icon">‚ûï</span>
                            <span class="btn-text">Criar Usu√°rio</span>
                        </button>
                        <button type="button" class="btn btn-warning" id="btnCancel" style="display: none;">
                            <span class="btn-icon">‚ùå</span>
                            <span class="btn-text">Cancelar</span>
                        </button>
                    </div>
                </form>

                <div class="quick-actions">
                    <h2>üîß A√ß√µes R√°pidas</h2>
                    <div class="btn-group">
                        <button type="button" class="btn btn-success" onclick="loadUsers()">
                            <span class="btn-icon">üîÑ</span>
                            Atualizar Lista
                        </button>
                        <button type="button" class="btn btn-danger" onclick="clearForm()">
                            <span class="btn-icon">üßπ</span>
                            Limpar Formul√°rio
                        </button>
                    </div>
                </div>

                <div class="api-info">
                    <h2>üì° Endpoints da API</h2>
                    <div class="endpoints">
                        <div class="endpoint">
                            <span class="method get">GET</span>
                            <span class="url">/usuarios</span>
                            <span class="desc">Listar usu√°rios</span>
                        </div>
                        <div class="endpoint">
                            <span class="method post">POST</span>
                            <span class="url">/usuarios</span>
                            <span class="desc">Criar usu√°rio</span>
                        </div>
                        <div class="endpoint">
                            <span class="method put">PUT</span>
                            <span class="url">/usuarios/:id</span>
                            <span class="desc">Atualizar usu√°rio</span>
                        </div>
                        <div class="endpoint">
                            <span class="method delete">DELETE</span>
                            <span class="url">/usuarios/:id</span>
                            <span class="desc">Deletar usu√°rio</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="users-section">
                <div class="section-header">
                    <h2>üë• Lista de Usu√°rios</h2>
                    <div class="users-count">
                        <span id="usersCount">0</span> usu√°rios
                    </div>
                </div>
                
                <div id="loading" class="loading">
                    <div class="spinner"></div>
                    <span>Carregando usu√°rios...</span>
                </div>
                
                <div id="usersList" class="users-list"></div>
                
                <div id="emptyState" class="empty-state" style="display: none;">
                    <div class="empty-icon">üìù</div>
                    <h3>Nenhum usu√°rio cadastrado</h3>
                    <p>Comece criando o primeiro usu√°rio usando o formul√°rio ao lado.</p>
                </div>
            </div>
        </div>

        <footer>
            <p>&copy; 2024 API REST - Desenvolvido com Node.js, Express e MySQL</p>
        </footer>
    </div>

    <!-- Modal de Confirma√ß√£o -->
    <div id="confirmModal" class="modal">
        <div class="modal-content">
            <h3>Confirmar Exclus√£o</h3>
            <p id="confirmMessage">Tem certeza que deseja excluir este usu√°rio?</p>
            <div class="modal-actions">
                <button id="confirmCancel" class="btn btn-secondary">Cancelar</button>
                <button id="confirmDelete" class="btn btn-danger">Excluir</button>
            </div>
        </div>
    </div>

    <script src="../js/script.js"></script>
</body>
</html>